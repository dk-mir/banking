Это 1-е тестовое задание на должность Senior Java developer (оклад 250 тыс. рублей) в компании "Национальная система платёжных карт" (платежная система "Мир").

---

_Важно! Во всех задачах нельзя использовать любые сторонние библиотеки и фреймворки, либо использовать их по минимуму, объяснив необходимость. 
Реализовывать, по возможности, только на Core Java (любой версии, вплоть до 1.8)._


## Банковский перевод

Есть банк, представленный классом Bank, в котором есть счета (класс Account) с двумя полями:

```java

public class Account {
  //…
  private long money;
  private String accNumber;
  //…
}

```

Все счета хранятся внутри банка в какой-то джава коллекции (можете выбрать на свой вкус). Клиенты Банка (их много) могут делать переводы между счетами, запрашивать баланс по своему счету. Все это происходит в highly concurrent (многопоточной) среде.

При этом, транзакции на крупные суммы (> 50000) отправляются на проверку Службе Безопасности. Можно считать, что таких транзакций не более 5% от всех.

За эту проверку отвечает отдельный и уже реализованный кем-то метод Bank.isFraud. Служба безопасности в Банке всего одна, работает медленно и не может обрабатывать более одной транзакции одновременно. Проверка транзакции занимает у них 1000 мс.

Если проверка выявила мошенничество, то необходимо заблокировать оба счета, т.е. запретить любые изменения остатков.

```java

public class Bank {
    //…
    private final Random random = new Random();
    public synchronized boolean isFraud(String fromAccountNum, String toAccountNum, long amount) throws InterruptedException {
		Thread.sleep(1000);
		return random.nextBoolean();
	}
    //…
}

```

Нужно реализовать:

1.	метод transfer класса Bank, который переводит деньги с одного счета на другой:
```java
    public void transfer(String fromAccountNum, String toAccountNum, long amount);
``` 

Если сумма транзакции > 50000, то после совершения транзакции, она отправляется на проверку Службе Безопасности – вызывается метод isFraud. Если возвращается true, то делается блокировка счетов (как – на ваше усмотрение).

2.	метод getBalance класса Bank, возвращает остаток на счете:

```java
    public long getBalance(String accountNum);
``` 

Класс Account и Bank можно дорабатывать как угодно для решения задачи.

---


# Emulation of the banking system

### Prerequisites
- Java 8 is installed

### Run tests
`mvnw test`

